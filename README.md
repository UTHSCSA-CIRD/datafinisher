# datafinisher
A script to post-process DataBuilder output into a single analyzable, denormalized table or spreadsheet. I.e. one row per patient-day, one column for each data element that will be treated as a separate variable during statistical analysis (with some accompanying columns for units, modifiers, various flags/comments). Uses lots of dynamic SQL, but all of it within sqlite3

<code>
    usage: makesql.py [-h] [-c] [-v CSVFILE] [-s {concat,simple}] [-d DATECOMPRESS] dbfile
  
    positional arguments:
    dbfile                SQLite file generated by DataBuilder
  
    optional arguments:
      -h, --help            show this help message and exit
      -c, --cleanup         Restore dbfile to its vanilla, data-builder state
      -v CSVFILE, --csvfile CSVFILE
                          File to write output to, in addition to the tables that will get created in the  dbfile. By default this is whatever was the name of the dbfile with '.csv' substituted for '.db'
      -s {concat,simple}, --style {concat,simple}
                          What style to output the file, currently there are two-- concat which concatenates the code variables and simple which represents code variables as Yes/No, with the nulls represented by No. The default is concat.
      -d DATECOMPRESS, --datecompress DATECOMPRESS
                          Round all dates to the nearest X days, default is 1
</code>
